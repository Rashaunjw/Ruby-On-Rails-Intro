<div class="container">
  <div class="page-header mb-4">
    <h1><i class="bi bi-search"></i> Movies by <%= @movie.director %></h1>
    <p class="text-muted">Movies with the same director as <strong><%= @movie.title %></strong></p>
  </div>

  <% if @movies.any? %>
    <div class="alert alert-info" role="alert">
      <i class="bi bi-info-circle"></i> Found <strong><%= @movies.count %></strong> <%= @movies.count == 1 ? 'movie' : 'movies' %> with director <strong><%= @movie.director %></strong>
    </div>

    <div class="movies-grid">
      <% @movies.each do |movie| %>
        <div class="movie-card">
          <div class="movie-card-header">
            <%= movie.title %>
          </div>
          <div class="movie-card-body">
            <div class="movie-detail">
              <span class="movie-detail-label">Rating:</span>
              <span class="movie-detail-value">
                <span class="rating-badge rating-<%= movie.rating %>"><%= movie.rating %></span>
              </span>
            </div>
            <% if movie.release_date.present? %>
              <div class="movie-detail">
                <span class="movie-detail-label">Release Date:</span>
                <span class="movie-detail-value"><%= movie.release_date.strftime("%B %d, %Y") if movie.release_date %></span>
              </div>
            <% end %>
            <% if movie.description.present? %>
              <div class="movie-detail">
                <span class="movie-detail-label">Description:</span>
                <span class="movie-detail-value"><%= truncate(movie.description, length: 100) %></span>
              </div>
            <% end %>
            <div class="mt-3">
              <%= link_to movie, class: 'btn btn-sm btn-primary' do %>
                <i class="bi bi-eye"></i> View Details
              <% end %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="empty-state">
      <i class="bi bi-film"></i>
      <h3>No other movies found</h3>
      <p>There are no other movies with director <strong><%= @movie.director %></strong>.</p>
    </div>
  <% end %>

  <div class="mt-4">
    <%= link_to movies_path, class: 'btn btn-secondary' do %>
      <i class="bi bi-arrow-left"></i> Back to All Movies
    <% end %>
  </div>
</div>


